# SimRaceStrategist (Early Prototype)

SimRaceStrategist is an early-stage racing strategy tool for the F1 games.
It combines historical telemetry data (CSV) with live UDP information
(weather, safety car, AI field state).

This project is **independent** and **not affiliated with any third-party telemetry tools**.

SimRaceStrategist currently serves as a **lightweight technical foundation**:
- **Read-only folder watcher**: monitors CSV files generated by external telemetry tools and copies them into a local cache (original files remain untouched).
- **CSV parser**: reads meta/game/track/setup blocks plus the telemetry table.
- **SQLite database**: stores one lap summary per CSV (lap time, tyre, weather, fuel, end-of-lap wear, etc.).
- **Minimal UDP listener (F1 25)**: currently limited to **Safety Car / VSC** and **Weather / Forecast** (separate from CSV processing).

> Note: This is **not yet a full strategy calculator**.  
> It is the stable base on which future strategy logic will be built
> (Plan A/B/C, Safety Car calls, rain crossover logic).

---

## Telemetry Input (CSV) & Third-Party Tools

This project can optionally import telemetry data from CSV files.

These CSV files can be generated by the app. External telemetry tool  
(e.g. Iko Rein’s F1 Telemetry Tool) can be used as well.

SimRaceStrategist does **not** include, bundle, modify, or redistribute
any third-party telemetry software.
All CSV files are **user-generated inputs** and are processed locally only.

This project is independent and not endorsed by, affiliated with,
or derived from any third-party telemetry tools.

---

## 1) Setup (Windows)

1. Install Python **3.14**
2. Navigate to the project directory and install dependencies (example using PowerShell):

```powershell
cd SimRacingStrategist-<versionnumber>        (e.g. 0.3.3)

py -m venv .venv

.\.venv\Scripts\python -m pip install --upgrade pip
.\.venv\Scripts\python -m pip install -r requirements.txt
```

3. Start the application using the provided launcher: "Start_SimRaceStrategist.bat"
4. Install and configure a third-party telemetry tool
   (e.g. Iko Rein’s F1 Telemetry Tool):
   https://www.overtake.gg/downloads/telemetry-tool-for-f1-25-and-many-other-games.77557/


---

## 2) Telemetry Folder Setup (CSV Import)

In the application:

Open Settings → Telemetry Folder

Select the root folder where CSV files generated by the telemetry tool are stored
(e.g. `C:\Documents\SimRacingTelemetry`)

The app automatically scans all subfolders
(e.g. `lapdata\f1_2025\...`)

The application operates in read-only mode:

New or updated CSV files are copied into
`%LOCALAPPDATA%\SimRaceStrategist\cache` (Windows)

Only these cached copies are parsed and processed

---

## 3) F1 25 UDP (Safety Car & Weather)

In the F1 game:
- Enable UDP telemetry
- Enable broadcast mode for better compatibility
- IP address: your PC IP (or `127.0.0.1`)
- Port (default): 20777

In der App:
- **Settings → UDP Port** (default: 20777)


> Currently, a focused subset of UDP data is parsed,
> primarily Safety Car / VSC state, weather, forecast, own laptime data
> and selected AI field information.

---

## 4) Data Locations

- Config: `%LOCALAPPDATA%\SimRacingStrategist\config.json`
- Cache:  `%LOCALAPPDATA%\SimRacingStrategist\cache\`
- DB:     `%LOCALAPPDATA%\SimRacingStrategist\data.db`
- Log:	  `%LOCALAPPDATA%\SimRacingStrategist\app.log`
- Data:   `%LOCALAPPDATA%\SimRacingStrategist\data\`

---

## 5) Current State & Next Steps

Already implemented (still evolving):
- Rain strategy core (Slick ↔ Inter ↔ Wet) using:
  - historical lap data (CSV/DB),
  - live weather + forecast (UDP),
  - temperature trends,
  - AI field tyre shares,
  - payback-based pit decision logic,
  - hysteresis + lockout (anti flip-flop)

- Degradation & stint analysis groundwork:
  - stint reconstruction,
  - wear-per-lap estimation,
  - pace loss vs wear estimation,
  - 1-stop / 2-stop pit window helpers

Next steps:
- Connect the existing strategy logic to a stable UI output (Strategy Cards / recommendations)
- Expand live delta calculations (minisector-based where possible)
- Improve multi-game compatibility (F1 24 → F1 2017) and track/ID coverage
- Add a dedicated Safety Car decision panel (Box / Stay / Opposite) based on estimated delta

---

## License & Usage

Copyright (c) 2025 A350Fan

This project is provided as **source-available software**.
All rights are reserved by the author.

You may view and modify the source code for personal or educational use.
Redistribution, publication, or release of this project or derivative works
as a standalone product is not permitted.

Any modified version must clearly attribute the original author
and link to the original repository.

Commercial use or monetization by third parties is not permitted.
Donations to the original author are explicitly allowed.

See the LICENSE file for full details.
